/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/chartjs-plugin-boxselect@1.0.6/dist/chartjs-plugin-boxselect.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("chart.js")):"function"==typeof define&&define.amd?define(["chart.js"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).boxselectplugin=t(e.Chart)}(this,(function(e){"use strict";function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=t(e),a={select:{enabled:!0,direction:"xy",selectboxBackgroundColor:"rgba(66,133,244,0.2)",selectboxBorderColor:"#48F"},callbacks:{beforeSelect:function(e,t,l,a){return!0},afterSelect:function(e,t,l,a,o){}}};function o(e,t,o){return l.default.helpers.getValueOrDefault(e.options.plugins.boxselect[t]?e.options.plugins.boxselect[t][o]:void 0,a[t][o])}function r(e){return e.data.datasets.length?e.scales[e.getDatasetMeta(0).xAxisID]:null}function s(e){return e.scales[e.getDatasetMeta(0).yAxisID]}var n={id:"boxselect",afterInit:function(e){0!=e.config.options.scales.xAxes.length&&(void 0===e.options.plugins.boxselect&&(e.options.plugins.boxselect=a),e.boxselect={enabled:!1,x:null,y:null,dragStarted:!1,dragStartX:null,dragEndX:null,dragStartY:null,dragEndY:null,suppressTooltips:!1})},afterEvent:function(e,t){var n=e.config.type;if("scatter"===n||"line"===n){var c=void 0===t.native.buttons?t.native.which:t.native.buttons;"mouseup"===t.native.type&&(c=0),e.boxselect.enabled=!0;var i=o(e,"select","enabled");if(1===c&&!e.boxselect.dragStarted&&i&&(e.boxselect.dragStartX=t.x,e.boxselect.dragStartY=t.y,e.boxselect.dragStarted=!0),e.boxselect.dragStarted&&0===c){e.boxselect.dragStarted=!1;var x=o(e,"select","direction"),u=r(e),d=s(e),b=u.getValueForPixel(e.boxselect.dragStartX),f=u.getValueForPixel(e.boxselect.x),g=d.getValueForPixel(e.boxselect.dragStartY),p=d.getValueForPixel(e.boxselect.y);"x"==x?(g=null,p=null):"y"==x&&(b=null,f=null),Math.abs(e.boxselect.dragStartX-e.boxselect.x)>1&&Math.abs(e.boxselect.dragStartY-e.boxselect.y)>1&&function(e,t,r,s,n){if(t>r){var c=t;t=r,r=c}s>n&&(c=s,s=n,n=c);if(!l.default.helpers.getValueOrDefault(e.options.plugins.boxselect.callbacks?e.options.plugins.boxselect.callbacks.beforeSelect:void 0,a.callbacks.beforeSelect)(t,r,s,n))return!1;for(var i=[],x=0;x<e.data.datasets.length;x++){const l=e.data.datasets[x];var u={data:[],indexes:[]};l.labels&&(u.labels=[]);for(var d=0;d<l.data.length;d++){var b=l.data[d];let e=!0;null==t||(e=b.x>=t&&b.x<=r);let a=!0;null==s||(a=b.y>=s&&b.y<=n),e&&a&&(u.data.push({...b}),u.indexes.push(d),u.labels&&u.labels.push(l.labels[d]))}i.push(u)}e.boxselect.start=t,e.boxselect.end=r,o(e,"callbacks","afterSelect")(t,r,s,n,i)}(e,b,f,g,p)}e.boxselect.x=t.x,e.boxselect.y=t.y,e.draw()}},afterDraw:function(e){if(e.boxselect.enabled)return e.boxselect.dragStarted&&function(e){var t=o(e,"select","selectboxBorderColor"),l=o(e,"select","selectboxBackgroundColor"),a=o(e,"select","direction");e.ctx.beginPath();let n=e.boxselect.dragStartX,c=e.boxselect.dragStartY,i=e.boxselect.x-e.boxselect.dragStartX,x=e.boxselect.y-e.boxselect.dragStartY;if("x"==a){var u=s(e);c=u.getPixelForValue(u.max),x=u.getPixelForValue(u.min)-u.getPixelForValue(u.max)}else if("y"==a){var d=r(e);n=d.getPixelForValue(d.max),i=d.getPixelForValue(d.min)-d.getPixelForValue(d.max)}e.ctx.rect(n,c,i,x),e.ctx.lineWidth=1,e.ctx.strokeStyle=t,e.ctx.fillStyle=l,e.ctx.fill(),e.ctx.fillStyle="",e.ctx.stroke(),e.ctx.closePath()}(e),!0},beforeTooltipDraw:function(e){return!e.boxselect.dragStarted&&!e.boxselect.suppressTooltips}};return l.default.plugins.register(n),n}));
//# sourceMappingURL=/sm/8930e49a1b528223e3521233d14789b2d1dbc40ec25a0b72134bb1611f113fc8.map